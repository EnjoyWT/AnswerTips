# 实施计划

- [x] 1. 创建基础工具类
  - 实现Logger、ErrorHandler、ConfigManager三个工具类
  - 提供统一的日志记录和错误处理能力
  - 支持环境变量覆盖配置
  - _需求: 2.1, 2.2, 3.1, 3.2_

- [x] 2. 重构OCR服务
  - 将现有OCRService重构为独立的服务类
  - 使用新的Logger和ErrorHandler
  - 保持原有的OCR识别功能
  - _需求: 1.2, 4.3_

- [x] 3. 重构大模型服务
  - 将LLM调用逻辑提取为独立的LLMService
  - 使用统一的错误处理和日志记录
  - 保持原有的大模型处理功能
  - _需求: 1.2, 4.3_

- [x] 4. 创建通知服务
  - 实现NotificationService调用macOS系统通知
  - 支持显示处理结果给用户
  - 处理通知相关的错误情况
  - _需求: 1.1, 2.1_

- [x] 5. 创建结果管理器
  - 实现ResultManager管理处理结果
  - 提供结果存储、查询和统计功能
  - 替换原有的内联结果处理逻辑
  - _需求: 1.2, 4.1_

- [x] 6. 重构文件监听服务
  - 将FileWatcher重构为FileWatcherService
  - 使用事件机制与其他服务通信
  - 保持原有的文件监听功能
  - _需求: 1.2, 4.2_

- [x] 7. 重构应用入口
  - 简化app.js，移除内联的业务逻辑
  - 协调各个服务的初始化和交互
  - 保持原有的应用生命周期管理
  - _需求: 1.1, 1.3, 4.1_

- [ ] 8. 集成测试和验证
  - 测试完整的文件监听到通知显示流程
  - 验证所有原有功能正常工作
  - 确保错误处理和日志记录正确
  - _需求: 4.1, 4.2, 4.3, 4.4_